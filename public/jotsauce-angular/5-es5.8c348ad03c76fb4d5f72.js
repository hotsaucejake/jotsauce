!function(){function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{OpKh:function(r,t,i){"use strict";i.r(t),i.d(t,"AuthenticationModule",function(){return J});var o,a=i("iInd"),s=i("SVse"),c=i("G0yt"),l=i("8Y7J"),b=((o=function(){function r(){e(this,r)}return n(r,[{key:"ngAfterViewInit",value:function(){}}]),r}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=l.Jb({type:o,selectors:[["app-not-found"]],decls:10,vars:0,consts:[[1,"error-box"],[1,"error-body","text-center"],[1,"error-title","text-danger"],[1,"text-uppercase","error-subtitle"],[1,"text-muted","m-t-30","m-b-30"],["href","/",1,"btn","btn-danger","btn-rounded","waves-effect","waves-light","m-b-40"]],template:function(e,r){1&e&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"h1",2),l.Ec(3,"404"),l.Tb(),l.Ub(4,"h3",3),l.Ec(5,"PAGE NOT FOUND !"),l.Tb(),l.Ub(6,"p",4),l.Ec(7,"Get outta here!"),l.Tb(),l.Ub(8,"a",5),l.Ec(9,"HOME"),l.Tb(),l.Tb(),l.Tb())},encapsulation:2}),o),d=i("6CRC"),u=i("7dP1"),m=i("EApP"),f=i("s7LF");function p(e,r){1&e&&(l.Ub(0,"div",35),l.Ec(1,"Required"),l.Tb())}function g(e,r){1&e&&(l.Ub(0,"div",35),l.Ec(1,"Required"),l.Tb())}function v(e,r){1&e&&l.Qb(0,"span",36)}var h=function(e,r,n,t){return new(n||(n=Promise))(function(i,o){function a(e){try{c(t.next(e))}catch(r){o(r)}}function s(e){try{c(t.throw(e))}catch(r){o(r)}}function c(e){var r;e.done?i(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(a,s)}c((t=t.apply(e,r||[])).next())})};function U(e,r){1&e&&(l.Ub(0,"div",32),l.Ub(1,"span",10),l.Qb(2,"i",33),l.Tb(),l.Tb())}function T(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Required"),l.Tb())}function w(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Must be at least 3 characters"),l.Tb())}function C(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Cannot exceed 255 characters"),l.Tb())}function k(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Username can only contain letters, numbers, dashes, and underscores"),l.Tb())}function y(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Username is already taken"),l.Tb())}function M(e,r){1&e&&(l.Ub(0,"div",32),l.Ub(1,"span",10),l.Qb(2,"i",33),l.Tb(),l.Tb())}function I(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Required"),l.Tb())}function x(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Must be a valid email address"),l.Tb())}function E(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Email is already taken or invalid"),l.Tb())}function P(e,r){1&e&&(l.Ub(0,"div",32),l.Ub(1,"span",10),l.Qb(2,"i",33),l.Tb(),l.Tb())}function A(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Required"),l.Tb())}function L(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Must be at least 8 characters"),l.Tb())}function q(e,r){1&e&&(l.Ub(0,"div",32),l.Ub(1,"span",10),l.Qb(2,"i",33),l.Tb(),l.Tb())}function R(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1,"Required "),l.Tb())}function Q(e,r){1&e&&(l.Ub(0,"div",34),l.Ec(1," Passwords must match"),l.Tb())}function V(e,r){1&e&&l.Qb(0,"span",35)}var j,S,O,F=[{path:"",children:[{path:"404",component:b},{path:"login",component:(S=function(){function r(n,t,i,o){e(this,r),this.authService=n,this.router=t,this.route=i,this.toastr=o,this.componentIsLoading=!1,this.userCredentials={email:localStorage.getItem("email")?localStorage.getItem("email"):"",password:""},this.remember=!1}return n(r,[{key:"ngOnInit",value:function(){d.a.isAuthenticated()&&this.router.navigate(["/"],{replaceUrl:!0}),this.remember=!!localStorage.getItem("email")}},{key:"login",value:function(e){var r,n,t,i;return n=this,i=regeneratorRuntime.mark(function n(){var t,i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.valid){n.next=6;break}return this.componentIsLoading=!0,n.next=4,this.authService.login(this.userCredentials,this.remember);case 4:"data"===(t=n.sent).type?this.router.navigate(["/"],{replaceUrl:!0}):null===(r=t.errors)||void 0===r||r.forEach(function(e){i.toastr.error(e.error,e.name.toUpperCase())}),this.componentIsLoading=!1;case 6:case"end":return n.stop()}},n,this)}),new((t=void 0)||(t=Promise))(function(e,r){function o(e){try{s(i.next(e))}catch(n){r(n)}}function a(e){try{s(i.throw(e))}catch(n){r(n)}}function s(r){var n;r.done?e(r.value):(n=r.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((i=i.apply(n,[])).next())})}}]),r}(),S.\u0275fac=function(e){return new(e||S)(l.Pb(u.a),l.Pb(a.f),l.Pb(a.a),l.Pb(m.b))},S.\u0275cmp=l.Jb({type:S,selectors:[["app-login"]],features:[l.Bb([u.a])],decls:47,vars:11,consts:[["id","login-background",1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center"],[1,"auth-box","m-3","m-md-0"],["id","loginform"],[1,"logo"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["id","loginform","name","login",1,"form-horizontal","m-t-20",2,"min-width","350px"],["loginForm","ngForm"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ti-user"],["type","email","name","email","placeholder","email@example.com","aria-label","email","required","",1,"form-control",3,"ngModel","disabled","ngModelChange","keyup.enter"],["email","ngModel"],["class","invalid-feedback d-block",4,"ngIf"],[1,"ti-key"],["type","password","name","password","placeholder","Password","aria-label","Password","required","",1,"form-control",3,"ngModel","disabled","ngModelChange","keyup.enter"],["password","ngModel"],[1,"form-group","row"],[1,"col-md-12"],[1,"custom-control","custom-checkbox","d-flex"],["type","checkbox","id","rememberUser","name","rememberUser",1,"custom-control-input",3,"disabled","ngModel","ngModelChange"],["rememberUser","ngModel"],["for","rememberUser",1,"custom-control-label","font-14"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],[1,"btn","btn-block","btn-lg","btn-primary",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["routerLink","/auth/register"],[1,"fas","fa-clipboard-check"],["href","javascript:void(0)"],[1,"fa","fa-lock"],[1,"invalid-feedback","d-block"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e){var n=l.Vb();l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Ub(3,"div",3),l.Ub(4,"h5",4),l.Ec(5,"jotsauce"),l.Tb(),l.Tb(),l.Ub(6,"div",5),l.Ub(7,"div",6),l.Ub(8,"form",7,8),l.Ub(10,"div",9),l.Ub(11,"div",10),l.Ub(12,"span",11),l.Qb(13,"i",12),l.Tb(),l.Tb(),l.Ub(14,"input",13,14),l.ec("ngModelChange",function(e){return r.userCredentials.email=e})("keyup.enter",function(){l.wc(n);var e=l.tc(9);return r.login(e.form)}),l.Tb(),l.Cc(16,p,2,0,"div",15),l.Tb(),l.Ub(17,"div",9),l.Ub(18,"div",10),l.Ub(19,"span",11),l.Qb(20,"i",16),l.Tb(),l.Tb(),l.Ub(21,"input",17,18),l.ec("ngModelChange",function(e){return r.userCredentials.password=e})("keyup.enter",function(){l.wc(n);var e=l.tc(9);return r.login(e.form)}),l.Tb(),l.Cc(23,g,2,0,"div",15),l.Tb(),l.Ub(24,"div",19),l.Ub(25,"div",20),l.Ub(26,"div",21),l.Ub(27,"input",22,23),l.ec("ngModelChange",function(e){return r.remember=e}),l.Tb(),l.Ub(29,"label",24),l.Ec(30,"Remember me"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(31,"div",25),l.Ub(32,"div",26),l.Ub(33,"a",27),l.ec("click",function(){l.wc(n);var e=l.tc(9);return r.login(e.form)}),l.Cc(34,v,1,0,"span",28),l.Ec(35," Login "),l.Tb(),l.Tb(),l.Tb(),l.Ub(36,"div",29),l.Ub(37,"div",30),l.Ub(38,"div",30),l.Ub(39,"a",31),l.Qb(40,"i",32),l.Ec(41," Register"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(42,"div",29),l.Ub(43,"div",30),l.Ub(44,"a",33),l.Qb(45,"i",34),l.Ec(46," Forgot password?"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&e){var t=l.tc(9),i=l.tc(15),o=l.tc(22);l.Cb(14),l.mc("ngModel",r.userCredentials.email)("disabled",r.componentIsLoading),l.Cb(2),l.mc("ngIf",(null==i.errors?null:i.errors.required)&&t.form.touched),l.Cb(5),l.mc("ngModel",r.userCredentials.password)("disabled",r.componentIsLoading),l.Cb(2),l.mc("ngIf",(null==o.errors?null:o.errors.required)&&t.form.touched),l.Cb(4),l.mc("disabled",r.componentIsLoading)("ngModel",r.remember),l.Cb(6),l.Hb("disabled",r.componentIsLoading),l.Cb(1),l.mc("ngIf",r.componentIsLoading)}},directives:[f.q,f.i,f.j,f.b,f.o,f.h,f.k,s.k,f.a,a.i],styles:["#login-background[_ngcontent-%COMP%]{background:url(/jotsauce-angular/woods.c6895b816a0bcb752b0b.jpg) no-repeat 50%}"]}),S)},{path:"register",component:(j=function(){function r(n,t,i){e(this,r),this.authService=n,this.router=t,this.toastr=i,this.componentIsLoading=!1,this.registerModel={},this.accountAvailability={},this.usernameAvailable=!1,this.emailAvailable=!1,this.passwordValid=!1,this.confirmPasswordValid=!1}return n(r,[{key:"ngOnInit",value:function(){d.a.isAuthenticated()&&this.router.navigate(["/"],{replaceUrl:!0})}},{key:"register",value:function(e){var r;return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.valid){n.next=10;break}if(!this.stringsMatch(e.value.password,e.value.passwordConfirmation)){n.next=9;break}return e.controls.passwordConfirmation.setErrors({mustMatch:!1}),this.componentIsLoading=!0,n.next=5,this.authService.register(this.registerModel);case 5:"data"===(t=n.sent).type?(localStorage.setItem("email",t.data.email),this.router.navigate(["auth/login"],{replaceUrl:!0})):null===(r=t.errors)||void 0===r||r.forEach(function(e){i.toastr.error(e.error,e.name.toUpperCase())}),this.componentIsLoading=!1,n.next=10;break;case 9:e.controls.passwordConfirmation.setErrors({mustMatch:!0});case 10:case"end":return n.stop()}},n,this)}))}},{key:"checkUsernameAvailability",value:function(e){var r;return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.controls.username.valid){n.next=6;break}return this.accountAvailability.username=this.registerModel.username,n.next=4,this.authService.checkUsernameAvailability(this.accountAvailability);case 4:"data"===(t=n.sent).type?this.usernameAvailable=t.data:(e.controls.username.setErrors({usernameTaken:!0}),null===(r=t.errors)||void 0===r||r.forEach(function(e){i.toastr.error(e.error,e.name.toUpperCase())}));case 6:case"end":return n.stop()}},n,this)}))}},{key:"checkEmailAvailability",value:function(e){var r;return h(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t,i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.controls.email.valid){n.next=6;break}return this.accountAvailability.email=this.registerModel.email,n.next=4,this.authService.checkEmailAvailability(this.accountAvailability);case 4:"data"===(t=n.sent).type?this.emailAvailable=t.data:(e.controls.email.setErrors({emailTaken:!0}),null===(r=t.errors)||void 0===r||r.forEach(function(e){i.toastr.error(e.error,e.name.toUpperCase())}));case 6:case"end":return n.stop()}},n,this)}))}},{key:"checkPasswordValid",value:function(e){e.controls.password.valid&&(this.passwordValid=!0)}},{key:"checkConfirmPasswordValid",value:function(e){e.controls.passwordConfirmation.valid&&this.stringsMatch(e.value.password,e.value.passwordConfirmation)&&(this.confirmPasswordValid=!0)}},{key:"stringsMatch",value:function(e,r){return e===r}}]),r}(),j.\u0275fac=function(e){return new(e||j)(l.Pb(u.a),l.Pb(a.f),l.Pb(m.b))},j.\u0275cmp=l.Jb({type:j,selectors:[["app-register"]],features:[l.Bb([u.a])],decls:61,vars:27,consts:[["id","register-background",1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center"],[1,"auth-box","m-3","m-md-0"],[1,"logo"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["name","register",1,"form-horizontal","m-t-20",2,"min-width","350px"],["registerForm","ngForm"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text","font-weight-bold"],[1,"ti-user"],["type","text","name","username","placeholder","Username","aria-label","username","minlength","3","maxlength","255","pattern","^[A-Za-z0-9_-]*$","required","",1,"form-control",3,"ngModel","disabled","ngModelChange","blur"],["username","ngModel"],["class","input-group-append",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],[1,"ti-email"],["type","email","name","email","placeholder","Email","aria-label","email","minlength","6","maxlength","255","required","",1,"form-control",3,"ngModel","disabled","ngModelChange","blur"],["email","ngModel"],[1,"ti-key"],["type","password","name","password","placeholder","Password","aria-label","password","minlength","8","required","",1,"form-control",3,"ngModel","disabled","ngModelChange","blur"],["password","ngModel"],["type","password","name","passwordConfirmation","placeholder","Confirm Password","aria-label","passwordConfirmation","required","",1,"form-control",3,"ngModel","disabled","ngModelChange","blur"],["passwordConfirmation","ngModel"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],[1,"btn","btn-block","btn-lg","btn-primary",3,"keyup.enter","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["routerLink","/auth/login"],[1,"fas","fa-key"],[1,"input-group-append"],[1,"ti-check-box","text-success"],[1,"invalid-feedback","d-block"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e){var n=l.Vb();l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"div"),l.Ub(3,"div",2),l.Ub(4,"h5",3),l.Ec(5,"Register"),l.Tb(),l.Tb(),l.Ub(6,"div",4),l.Ub(7,"div",5),l.Ub(8,"form",6,7),l.Ub(10,"div",8),l.Ub(11,"div",9),l.Ub(12,"span",10),l.Qb(13,"i",11),l.Tb(),l.Tb(),l.Ub(14,"input",12,13),l.ec("ngModelChange",function(e){return r.registerModel.username=e})("blur",function(){l.wc(n);var e=l.tc(9);return r.checkUsernameAvailability(e.form)}),l.Tb(),l.Cc(16,U,3,0,"div",14),l.Cc(17,T,2,0,"div",15),l.Cc(18,w,2,0,"div",15),l.Cc(19,C,2,0,"div",15),l.Cc(20,k,2,0,"div",15),l.Cc(21,y,2,0,"div",15),l.Tb(),l.Ub(22,"div",8),l.Ub(23,"div",9),l.Ub(24,"span",10),l.Qb(25,"i",16),l.Tb(),l.Tb(),l.Ub(26,"input",17,18),l.ec("ngModelChange",function(e){return r.registerModel.email=e})("blur",function(){l.wc(n);var e=l.tc(9);return r.checkEmailAvailability(e.form)}),l.Tb(),l.Cc(28,M,3,0,"div",14),l.Cc(29,I,2,0,"div",15),l.Cc(30,x,2,0,"div",15),l.Cc(31,E,2,0,"div",15),l.Tb(),l.Ub(32,"div",8),l.Ub(33,"div",9),l.Ub(34,"span",10),l.Qb(35,"i",19),l.Tb(),l.Tb(),l.Ub(36,"input",20,21),l.ec("ngModelChange",function(e){return r.registerModel.password=e})("blur",function(){l.wc(n);var e=l.tc(9);return r.checkPasswordValid(e.form)}),l.Tb(),l.Cc(38,P,3,0,"div",14),l.Cc(39,A,2,0,"div",15),l.Cc(40,L,2,0,"div",15),l.Tb(),l.Ub(41,"div",8),l.Ub(42,"div",9),l.Ub(43,"span",10),l.Qb(44,"i",19),l.Tb(),l.Tb(),l.Ub(45,"input",22,23),l.ec("ngModelChange",function(e){return r.registerModel.password_confirmation=e})("blur",function(){l.wc(n);var e=l.tc(9);return r.checkConfirmPasswordValid(e.form)}),l.Tb(),l.Cc(47,q,3,0,"div",14),l.Cc(48,R,2,0,"div",15),l.Cc(49,Q,2,0,"div",15),l.Tb(),l.Ub(50,"div",24),l.Ub(51,"div",25),l.Ub(52,"a",26),l.ec("keyup.enter",function(){l.wc(n);var e=l.tc(9);return r.register(e.form)})("click",function(){l.wc(n);var e=l.tc(9);return r.register(e.form)}),l.Cc(53,V,1,0,"span",27),l.Ec(54," REGISTER"),l.Tb(),l.Tb(),l.Tb(),l.Ub(55,"div",28),l.Ub(56,"div",29),l.Ub(57,"div",29),l.Ub(58,"a",30),l.Qb(59,"i",31),l.Ec(60," Login"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&e){var t=l.tc(9),i=l.tc(15),o=l.tc(27),a=l.tc(37),s=l.tc(46);l.Cb(14),l.mc("ngModel",r.registerModel.username)("disabled",r.componentIsLoading),l.Cb(2),l.mc("ngIf",r.usernameAvailable),l.Cb(1),l.mc("ngIf",(null==i.errors?null:i.errors.required)&&t.form.touched),l.Cb(1),l.mc("ngIf",null==i.errors?null:i.errors.minlength),l.Cb(1),l.mc("ngIf",null==i.errors?null:i.errors.maxlength),l.Cb(1),l.mc("ngIf",null==i.errors?null:i.errors.pattern),l.Cb(1),l.mc("ngIf",null==i.errors?null:i.errors.usernameTaken),l.Cb(5),l.mc("ngModel",r.registerModel.email)("disabled",r.componentIsLoading),l.Cb(2),l.mc("ngIf",r.emailAvailable),l.Cb(1),l.mc("ngIf",(null==o.errors?null:o.errors.required)&&t.form.touched),l.Cb(1),l.mc("ngIf",null==o.errors?null:o.errors.minlength),l.Cb(1),l.mc("ngIf",null==o.errors?null:o.errors.emailTaken),l.Cb(5),l.mc("ngModel",r.registerModel.password)("disabled",r.componentIsLoading),l.Cb(2),l.mc("ngIf",r.passwordValid),l.Cb(1),l.mc("ngIf",(null==a.errors?null:a.errors.required)&&t.form.touched),l.Cb(1),l.mc("ngIf",null==a.errors?null:a.errors.minlength),l.Cb(5),l.mc("ngModel",r.registerModel.password_confirmation)("disabled",r.componentIsLoading),l.Cb(2),l.mc("ngIf",r.confirmPasswordValid),l.Cb(1),l.mc("ngIf",(null==s.errors?null:s.errors.required)&&t.form.touched),l.Cb(1),l.mc("ngIf",null==s.errors?null:s.errors.mustMatch),l.Cb(3),l.Hb("disabled",r.componentIsLoading),l.Cb(1),l.mc("ngIf",r.componentIsLoading)}},directives:[f.q,f.i,f.j,f.b,f.e,f.d,f.m,f.o,f.h,f.k,s.k,a.i],styles:["#register-background[_ngcontent-%COMP%]{background:url(/jotsauce-angular/snow-road.cfd541ab1cd649298600.jpg) no-repeat 50%}"]}),j)}]}],J=((O=function r(){e(this,r)}).\u0275mod=l.Nb({type:O}),O.\u0275inj=l.Mb({factory:function(e){return new(e||O)},imports:[[s.b,f.c,a.j.forChild(F),c.f]]}),O)}}])}();